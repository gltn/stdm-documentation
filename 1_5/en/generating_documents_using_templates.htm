<!DOCTYPE HTML>
<html>
<head>
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>


    <title>Generating Documents Using Templates</title>


</head>

<body>




<h1>Generating Documents Using Templates</h1>
<p><span>Generating a report is an important
 component in STDM that is pivotal for the </span><span>dissemination
 of information on land. </span><span>This
 information will be used in various ways for example in the making of 
 </span><span>informed decisions</span><span
>, good management of resources, security of tenure,
 etc.</span></p>
<p>Once you have created a template using <a href="document_designer.htm">Document
    Designer</a>, you can use Document Generator to generate documents in
    file formats such PDF and different image formats. </p>
<p><span>The generation of documents is based
 on entities and database views that are used as a data source to design 
 the template. </span></p>
<p><span>You can generate documents for selected
 records. This is mainly applicable when you want to generate documents 
 such as certificates of ownership, title deeds, allocation document for 
 a party or a spatial unit. In addition, you can even generate a letter 
 based on a record entry in STDM. For instance, in a local government setting, 
 a letter template can be designed to be used for a confirmation of survey 
 on a parcel that can then be used for approval. For this purpose, you 
 can use the Survey and related entities as a data source in local government 
 profile included in STDM 1.4 installation. The letter could have information 
 that shows a survey date, the applicant, the surveyor and the location 
 with a field for signatures.</span></p>
<p><span>You can also generate documents that
 are used for reporting purposes. The document templates could be designed 
 from a database view created from custom queries that provide aggregate 
 information. Aggregate views are not created in STDM by default as user 
 requirements vary. &#160;Currently, only social tenure relation view is 
 created. Using aggregate views, you can create templates that use charts.</span></p>
<p><span>To generate a report based on the
 designed template follow the steps below. </span></p>
<p><span>1.</span> On the STDM toolbar, select
    <span>Document Generator</span> button.</p>
<p><img  src="1_5/en/images/generator.jpg" alt=""
        style=" border:none; width:100%; max-width:558px;" border="0"/></p>
<p>The Document Generator module loads as shown below.</p>
<p><img  src="1_5/en/images/doc_gen.jpg" alt=""
        style=" border:none; width:100%; max-width:549px;" border="0"/></p>
<p>The top part of the dialog has tabs that represents all
    the core entities (see the image below). If you add a new entity in the
    Configuration Wizard, a new tab will be added automatically. </p>
<p><img  src="1_5/en/images/doc_gen_entities.jpg" alt=""
        style=" border:none; width:100%; max-width:535px;" border="0"/></p>
<p>2. If you are generating a document using aggregate data,
    proceed to step 4. </p>
<p>On the top part of the entity tab, click on the <span
        style="font-weight: bold;">Add</span> button (<img  src="1_5/en/images/add.png" alt=""
                                                           style=" border:none; width:100%; max-width:16px;"
                                                           border="0"/>)
    to add a record whose details you wish to appear in the generated document.</p>
<p>The <span style="font-style: normal;
														 font-weight: bold;">Entity 
 Browser</span> appears so that you can select a record of the entity.
</p>
<p>3. Select a record using the
    Entity Browser dialog or the QGIS Expression dialog. </p>
<p>A. Adding
    a record using the Entity Browser dialog</p>
<p>The image below shows how
    you can select a record using the <span style="font-weight: bold;">Entity
 Browser</span>. </p>
<p><img
         src="1_5/en/images/doc_gen_sel_record.jpg" alt=""
        style=" border:none; width:100%; max-width:842px;" border="0"/></span></p>
<p>In case you have large records,
    you can first make a search as discussed in <a href="querying_a_record.htm">Querying
        a Record topic</a>. </p>
<p>If you want to add multiple
    records that are not continuous, follow the sub-steps below. </p>
<p>a. Press the <span
        style="font-style: normal; font-weight: bold;">Control</span>
    (Ctrl)
    key on your keyboard </p>
<p>b. While still pressing the
    <span style="font-style: normal; font-weight: bold;">Control</span>
    key, select records you want to add.</p>
<p>If you want to add multiple
    records between two rows, follow the sub-steps below</p>
<p>a. Select a record that will
    be the first selection in the range.</p>
<p>b. Press the <span
        style="font-style: normal; font-weight: bold;">Shift </span>key
    on
    your keyboard</p>
<p>c. While still pressing the
    <span style="font-weight: bold;">Shift</span> key, select the last row
    in the selection range</p>
<p><img alt=""  src="1_5/en/images/NewItem840.bmp"
        style=" padding-bottom:1px; padding-top:1px; padding-left:1px; padding-right:1px; width:100%; max-width:516px;"
        border="0"/></p>
<p>If you want to remove records that are already added,
    select it and click on the remove icon (<img  src="1_5/en/images/remove.png" alt=""
                                                 style=" border:none; width:100%; max-width:16px;"
                                                 border="0"/>). </p>
<p>B. Adding a record using QGIS
    Expression <span style="font-weight: normal;">dialog</span></p>
<p>The sub-steps below show how you can select a record using
    the <span style="font-weight: bold;">QGIS Expression </span>dialog. </p>
<p>a. Select the Expression button located inside the <span
        style="font-weight: bold;">Document Generator</span> next to the <span
        style="font-weight: bold;">Add</span> button as shown below. </p>
<p><img  src="1_5/en/images/expression_builder_button.png" alt=""
        style=" border:none; width:100%; max-width:561px;" border="0"/></p>
<p>The QGIS Expression dialog opens as shown in the image
    below. </p>
<p><img  src="1_5/en/images/expression_builder.PNG" alt=""
        style=" border:none; width:100%; max-width:761px;" border="0"/></p>
<p>b. On the right side, expand the <span style="font-weight: bold;">Fields
 and Values</span> tree item as shown in the image below. &#160;You will
    see all the columns/fields of the selected <span style="font-weight: bold;">Entity</span>.
</p>
<p><img  src="1_5/en/images/expression_builder_expanded.PNG" alt=""
        style=" border:none; width:100%; max-width:764px;" border="0"/></p>
<p>c. Double click on one field/ column you would like to
    use as a search filter. The field will be added in the white box in the
    left side as shown below. &#160;In this case, &quot;code&quot; is used.
</p>
<p><img  src="1_5/en/images/expression_builder_selected.PNG" alt=""
        style=" border:none; width:100%; max-width:762px;" border="0"/></p>
<p>d. Click on the relevant sign you want to use. In this
    case the equal (=) operator is used as highlighted in the image below.
</p>
<p><img  src="1_5/en/images/expression_builder_sign.PNG" alt=""
        style=" border:none; width:100%; max-width:763px;" border="0"/></p>
<p>e. When you click on the sign, you will see the sign added
    as shown in the image below. </p>
<p><img  src="1_5/en/images/expression_builder_sign_inside.PNG" alt=""
        style=" border:none; width:100%; max-width:762px;" border="0"/></p>
<p>f. Type the value you would like to search as shown in
    the image below. In this case, it should be a relevant value for the <span
            style="font-weight: bold;">code</span> column. </p>
<p><img  src="1_5/en/images/expression_builder_value_inside.PNG" alt=""
        style=" border:none; width:100%; max-width:760px;" border="0"/></p>
<p><span style="font-weight: bold;">Note</span>: textual
    data should be written in between single quotes, as shown above. Numeric
    data should be written without quote. </p>
<p>g. Click on the <span style="font-weight: bold;">Select</span>
    button to load the record into the Document Generator,<span style="font-weight: bold;">
 Entity Record Selector </span>as shown in the image below. </p>
<p><img  src="1_5/en/images/expression_builder_selected_record.PNG" alt=""
        style=" border:none; width:100%; max-width:563px;" border="0"/></p>
<p>If you want to remove records that are already added,
    select it and click on the remove icon (<img  src="1_5/en/images/remove.png" alt=""
                                                 style=" border:none; width:100%; max-width:16px;"
                                                 border="0"/>). </p>
<p>4. If
    you are using templates that are designed for aggregate data reporting,
    check on the option (highlighted below). </p>
<p><img  src="1_5/en/images/doc_gen_matching_record.jpg" alt=""
        style=" border:none; width:100%; max-width:440px;" border="0"/></p>
<p><span style="font-weight: normal;">6.</span>
    <span>Select a </span><span
            style="font-weight: bold;">d</span><span
            style="font-weight: bold;">ocument template</span><span
    > that you want your generated document to be based
 on. </span></p>
<p><span>To select a document template</span><span
        style="font-weight: bold;">,</span><span>
 click on </span><span style="font-weight: bold;">Select
 document template</span><span> button as highlighted below.
 </span></p>
<p><span><img  src="1_5/en/images/select_template.jpg" alt=""
              style=" border:none; width:100%; max-width:440px;"
              border="0"/></span></p>
<p><span>A template selector appears showing
 all templates designed for the current entity.</span></p>
<p><span><img  src="1_5/en/images/template_selector.jpg" alt=""
              style=" border:none; width:100%; max-width:318px;"
              border="0"/></span></p>
<p>Click on the template you want to use and click on the <span style="font-weight: bold;">OK</span>
    button. </p>
<p><span style="font-weight: bold;">Note</span><span>: Only
 matching templates to the selected entity load. For instance, a template 
 that used </span><span style="font-weight: bold;">Person</span><span
> as a Referenced table in <a href="stdm_data_source.htm">STDM
 Data Source</a> of document designer will not be visible when you want 
 to generate documents by selecting a </span><span style="font-weight: bold;">Structure</span><span
> record.</span></p>
<p><span>7. Choose the output format of the
 generated document. You can choose several</span><span style="font-weight: bold;"> 
 </span><span style="font-weight: bold;">image formats</span><span
> </span><span>or a </span><span
        style="font-weight: bold;">PDF</span>
    <span>format
 as shown below. </span></p>
<p><span>If you have chosen the Export as
 Image radio button, the image format drop down menu becomes active. You 
 can then select an image format that you want (as shown below).</span></p>
<p><span>&#160;</span><img alt=""  src="1_5/en/images/NewItem559.jpg"
                           style=" padding-bottom:1px; padding-top:1px; padding-left:1px; padding-right:1px; width:100%; max-width:521px;"
                           border="0"/></p>
<p><span>8. Set the saving location and the
 file name of the document. </span></p>
<p><span>You can save the generated document
 either in a location that you have chosen or in the output folder as specified 
 in the Configuration Wizard or Options. </span></p>
<p><span>A. Saving in preferred
 location</span></p>
<p><span>If you wish to save it in a location
 that you have chosen, make sure Write to output folder options is unchecked. 
 </span></p>
<p>Click on the <span style="font-weight: bold;">Generate</span>
    button. </p>
<p><span>A Windows Explorer pops up so that
 you choose the file name and location of the document to be generated 
 (as shown below).</span></p>
<p><span><img  src="1_5/en/images/doc_generator_file_name.jpg" alt=""
              style=" border:none; width:100%; max-width:1056px;"
              border="0"/> </span></p>
<p><span>After choosing the folder and file
 name, click the </span><span style="font-weight: bold;">Save</span><span
> button. </span></p>
<p><span>If the record selected is found in
 the table that the template used, you will view a message that shows that 
 the generation was successful as shown below. </span></p>
<p><span><img  src="1_5/en/images/doc_success_generation.jpg" alt=""
              style=" border:none; width:100%; max-width:369px;"
              border="0"/></span></p>
<p>OK</span>
    button. </p>
<p><span>The document has now been successfully
 generated. You can browse to the saved location to see the document.</span></p>
<p>B. Saving in the Output Folder</p>
<p>If you want to use the output folder, c<span>heck
 on the &quot;</span><span>Write to output folder</span><span
>&quot; checkbox as shown in the image below. </span></p>
<p><span>The box </span><span
        style="font-weight: bold;">Output
 Document Naming</span><span> gets active so that you can
 also choose and sort the values to be used in the document file name. 
 </span></p>
<p>Check on the checkbox in front of the column that you
    want the file name to draw values from. </p>
<p><img  src="1_5/en/images/document_gnerator_document_name_selection.jpg" alt=""
        style=" border:none; width:100%; max-width:535px;" border="0"/></p>
<p>If necessary, sort the order of columns by selecting,
    dragging and dropping them to the position you want them to be. &#160;</p>
<p>For instance, the image below shows that National ID is
    about to be placed before <span style="font-weight: bold;">Last Name</span>.</p>
<p><span><img  src="1_5/en/images/doc_gen.jpg" alt=""
              style=" border:none; width:100%; max-width:549px;" border="0"/><br/>
Click on the </span><span style="font-weight: bold;">Generate</span> button.</p>
<p><span>If the record selected is found in
 the table that the template used, you will see a success message that 
 shows that the generation was successful. </span></p>
<p><span><img  src="1_5/en/images/doc_success_generation.jpg" alt=""
              style=" border:none; width:100%; max-width:369px;"
              border="0"/></span></p>
<p><span>Click on the</span> <span
        style="font-weight: bold;">OK</span><span
> button</span><span
>. </span></p>
<p><span>The document has been successfully
 generated. You can browse the output path to see the generated document.</span></p>

</body>
</html>
